<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Secured Web Information System Prototype | Tim (Yaotian) Huang</title>
<meta name="keywords" content="Java, Servlet, JSP, Tomcat, HTML, CSS, JavaScript" />
<meta name="description" content="View the full project here: Github Repo
Introduction In a recent academic project, I implemented a secured web information system using Java Servlet and created several content pages including AboutMe, Skills, and Contact pages for testing my system.
The goal was to implement a web application that could allow users to login, logout and view their profile. The application also had to be secured against unauthorized access such as directly typing the content page URL.">
<meta name="author" content="sky-haihai">
<link rel="canonical" href="http://localhost:1313/code/itec4020-a2/secured-web-information-system-prototype/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.7bfe087ae72df31787ec7a1360dd05ee246a179b51cf7a30a904b39d7f813b69.css" integrity="sha256-e/4Ieuct8xeH7HoTYN0F7iRqF5tRz3owqQSznX&#43;BO2k=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.30d2332871da51f600f574811c17751e6c862577d450b624f86e2bc8a6e31221.js" integrity="sha256-MNIzKHHaUfYA9XSBHBd1HmyGJXfUULYk&#43;G4ryKbjEiE="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://localhost:1313/images/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/images/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/images/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/images/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/images/apple-touch-icon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/code/itec4020-a2/secured-web-information-system-prototype/" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Tim (Yaotian) Huang (Alt + H)">Tim (Yaotian) Huang</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="/" title="Home"><span>Home</span></a>
            </li>
            <li>
                <a href="http://localhost:1313/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/ta/" title="TA">
                    <span>TA</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/code/" title="Code">
                    <span>Code</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/art/" title="Art">
                    <span>Art</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/code/">Code</a></div>
    <h1 class="post-title">
      Secured Web Information System Prototype
    </h1>
    <div class="post-meta">&lt;span title=&#39;2023-05-07 02:26:29 -0400 -0400&#39;&gt;May 7, 2023&lt;/span&gt;&amp;nbsp;·&amp;nbsp;7 min&amp;nbsp;·&amp;nbsp;sky-haihai</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                <li>
                    <a href="#environment" aria-label="Environment">Environment</a><ul>
                        
                <li>
                    <a href="#server" aria-label="Server">Server</a></li>
                <li>
                    <a href="#local" aria-label="Local">Local</a></li></ul>
                </li>
                <li>
                    <a href="#structure-overview" aria-label="Structure Overview">Structure Overview</a></li>
                <li>
                    <a href="#implementation" aria-label="Implementation">Implementation</a><ul>
                        
                <li>
                    <a href="#user-authentication" aria-label="User Authentication">User Authentication</a><ul>
                        
                <li>
                    <a href="#login" aria-label="Login">Login</a></li>
                <li>
                    <a href="#logout" aria-label="Logout">Logout</a></li></ul>
                </li>
                <li>
                    <a href="#secured-content-pages" aria-label="Secured Content Pages">Secured Content Pages</a></li>
                <li>
                    <a href="#image-protection" aria-label="Image Protection">Image Protection</a></li>
                <li>
                    <a href="#preventing-unwanted-user-actions" aria-label="Preventing Unwanted User Actions">Preventing Unwanted User Actions</a></li></ul>
                </li>
                <li>
                    <a href="#deployment" aria-label="Deployment">Deployment</a><ul>
                        
                <li>
                    <a href="#step-0-prerequisites-done-by-the-server-administrator" aria-label="Step 0: Prerequisites (Done by the server administrator)">Step 0: Prerequisites (Done by the server administrator)</a></li>
                <li>
                    <a href="#step-1-download-sshftp-client" aria-label="Step 1: Download SSH/FTP client">Step 1: Download SSH/FTP client</a></li>
                <li>
                    <a href="#step-2-upload-the-website-folder-to-the-server" aria-label="Step 2: Upload the website folder to the server">Step 2: Upload the website folder to the server</a></li>
                <li>
                    <a href="#step-3-deploy-the-website-on-the-tomcat-server" aria-label="Step 3: Deploy the website on the Tomcat server">Step 3: Deploy the website on the Tomcat server</a></li>
                <li>
                    <a href="#step-4-making-changes-to-the-website" aria-label="Step 4: Making changes to the website">Step 4: Making changes to the website</a></li></ul>
                </li>
                <li>
                    <a href="#test-cases" aria-label="Test Cases">Test Cases</a><ul>
                        
                <li>
                    <a href="#case-1" aria-label="Case 1">Case 1</a></li>
                <li>
                    <a href="#case-2" aria-label="Case 2">Case 2</a></li>
                <li>
                    <a href="#case-3" aria-label="Case 3">Case 3</a></li>
                <li>
                    <a href="#case-4" aria-label="Case 4">Case 4</a></li>
                <li>
                    <a href="#case-5" aria-label="Case 5">Case 5</a></li>
                <li>
                    <a href="#case-6" aria-label="Case 6">Case 6</a></li>
                <li>
                    <a href="#case-7" aria-label="Case 7">Case 7</a></li>
                <li>
                    <a href="#case-8" aria-label="Case 8">Case 8</a></li></ul>
                </li>
                <li>
                    <a href="#future-improvements" aria-label="Future Improvements">Future Improvements</a></li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content">
  <p>View the full project here: <a href="https://github.com/sky-haihai/4020A2-Secured-Web-IS.git">Github Repo</a></p>
<h2 id="introduction">Introduction</h2>
<p>In a recent academic project, I implemented a secured web information system using Java Servlet and created several content pages including AboutMe, Skills, and Contact pages for testing my system.</p>
<p>The goal was to implement a web application that could allow users to login, logout and view their profile. The application also had to be secured against unauthorized access such as directly typing the content page URL.</p>
<p>The URL of the deployed website on the school SIT server is:
<a href="http://sit.itec.yorku.ca:8080/itec4020grp9/">http://sit.itec.yorku.ca:8080/itec4020grp9/</a></p>
<blockquote>
<p>&#x26a0;&#xfe0f; <strong>Note</strong><br>
The website is deployed on the school System Integration Testing(SIT) server. Access it requires a York University VPN. Please contact me if you are interested and I will send you a video demo of the website.</p>
</blockquote>
<h2 id="environment">Environment</h2>
<h3 id="server">Server</h3>
<ul>
<li>Tomcat 7.0.76</li>
<li>JavaSE 8</li>
</ul>
<h3 id="local">Local</h3>
<ul>
<li>JavaSE 8 &#x26a0;&#xfe0f; Must match the version of the server side</li>
<li>VS Code (with the following extensions)
<ul>
<li>Language Support for Java(TM) by Red Hat <code>v1.18.0</code></li>
<li>Project Manager for Java <code>v0.22.0</code></li>
</ul>
</li>
</ul>
<h2 id="structure-overview">Structure Overview</h2>
<pre tabindex="0"><code>website
├── css
│       ├── preventPrint.css
│       ├── useDefaultCursor.css
│       └── ...
├── images // images that do not need to be protected
├── js
│       ├── disableDragging.js
│       ├── disableSavingImg.js
│       └── disableSelection.js
├── src
│       ├── util
│       │   └── ImageHelper.java
│       ├── LoginServlet.java
│       ├── LogoutServlet.java
│       ├── AboutMeServlet.java
│       └── ...
├── WEB-INF
│       ├── classes
│       │       ├── util
│       │       │       ├── ImageHelper.class
│       │       ├── LoginServlet.class
│       │       ├── LogoutServlet.class
│       │       ├── AboutMeServlet.class
│       │       └── ...
│       ├── images // images that need to be protected
│       │       ├── user_icon.png
│       │       └── ...
│       └── lib
│               └── javax.servlet-api-3.0.1.jar
├── index.jsp
├── readme.txt //instructions for setting up the environment
</code></pre><blockquote>
<p>&#x26a0;&#xfe0f; <strong>Note</strong> <br>
Servlet api version 3.0.x is supported by Tomcat 7.0.76. If you are using a different version of Tomcat, you may need to change the version of the servlet api jar file.</p>
</blockquote>
<h2 id="implementation">Implementation</h2>
<h3 id="user-authentication">User Authentication</h3>
<h4 id="login">Login</h4>
<p>For simplicity, the login page is implemented inside <code>index.jsp</code>. A login form is submitted to the <code>LoginServlet.class</code>. when the user clicks the login button.</p>
<p>Since this was a school project, the username and password are hard-coded in the <strong>Controller</strong> layer. In a real-world application, the username and password should be stored in a database and accessed by <strong>Data Access Object(DAO)</strong> layer.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">fakeUsername</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;admin&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">fakePassword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;admin&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getParameter</span><span class="p">(</span><span class="s">&#34;username&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">String</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getParameter</span><span class="p">(</span><span class="s">&#34;password&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kt">boolean</span><span class="w"> </span><span class="n">inputMatches</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fakeUserName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">username</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">fakePassword</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">password</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">inputMatches</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">session</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&#34;userId&#34;</span><span class="p">,</span><span class="n">username</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">response</span><span class="p">.</span><span class="na">sendRedirect</span><span class="p">(</span><span class="s">&#34;aboutme&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">return</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>Source <a href="https://github.com/sky-haihai/4020A2-Secured-Web-IS/blob/fc29ffe396baaaaa47062d61970c054b70014d36/website/src/LoginServlet.java">LoginServlet.java</a></p>
<blockquote>
<p>&#x26a0;&#xfe0f; <strong>Note</strong> <br>
As the user authentication details, such as the username and password, are transmitted through an HTML form, it is recommended to implement the authentication logic in the doPost() method rather than the doGet() method. Otherwise, the user authentication information will be exposed in the URL, causing security issues.</p>
</blockquote>
<h4 id="logout">Logout</h4>
<p>The logout page is much simpler. It only needs to invalidate the session and redirect the user to the login page. This logic can be implemented inside either the doGet() method or the doPost() method.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">HttpSession</span><span class="w"> </span><span class="n">session</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getSession</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">session</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">session</span><span class="p">.</span><span class="na">removeAttribute</span><span class="p">(</span><span class="s">&#34;userId&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">response</span><span class="p">.</span><span class="na">sendRedirect</span><span class="p">(</span><span class="s">&#34;index.jsp&#34;</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>Source <a href="https://github.com/sky-haihai/4020A2-Secured-Web-IS/blob/fc29ffe396baaaaa47062d61970c054b70014d36/website/src/LogoutServlet.java">Logout.java</a></p>
<h3 id="secured-content-pages">Secured Content Pages</h3>
<p>For each protected content page, the servlet class needs to check if the user has logged in. If the user has not logged in, the servlet class will redirect the user to the login page.</p>
<p>Check if the user has logged in:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">// check if user is logged in</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">HttpSession</span><span class="w"> </span><span class="n">session</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getSession</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">session</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">session</span><span class="p">.</span><span class="na">getAttribute</span><span class="p">(</span><span class="s">&#34;userId&#34;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="na">sendRedirect</span><span class="p">(</span><span class="s">&#34;index.jsp&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>Disable Caching:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">response</span><span class="p">.</span><span class="na">setHeader</span><span class="p">(</span><span class="s">&#34;Cache-Control&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;no-cache, no-store, must-revalidate&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">response</span><span class="p">.</span><span class="na">setHeader</span><span class="p">(</span><span class="s">&#34;Pragma&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;no-cache&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">response</span><span class="p">.</span><span class="na">setDateHeader</span><span class="p">(</span><span class="s">&#34;Expires&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">0</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>Actually writing the content of the page:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">response</span><span class="p">.</span><span class="na">setContentType</span><span class="p">(</span><span class="s">&#34;text/html&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">PrintWriter</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="na">getWriter</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;html&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;head&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;title&gt;AboutMe&lt;/title&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;link rel=\&#34;stylesheet\&#34; href=\&#34;css/reset.css\&#34;&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;link rel=\&#34;stylesheet\&#34; href=\&#34;css/useDefaultCursor.css\&#34;&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;link rel=\&#34;stylesheet\&#34; href=\&#34;css/preventPrint.css\&#34;&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;link rel=\&#34;stylesheet\&#34; href=\&#34;css/credit.css\&#34;&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;link rel=\&#34;stylesheet\&#34; href=\&#34;css/profile.css\&#34;&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;link rel=\&#34;stylesheet\&#34; href=\&#34;css/aboutme.css\&#34;&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;/head&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;body&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;/body&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;script src=&#39;js/disableSelection.js&#39;&gt;&lt;/script&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;script src=&#39;js/disableSavingImg.js&#39;&gt;&lt;/script&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;script src=&#39;js/disableDragging.js&#39;&gt;&lt;/script&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;/html&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>Source <a href="https://github.com/sky-haihai/4020A2-Secured-Web-IS/blob/fc29ffe396baaaaa47062d61970c054b70014d36/website/src/AboutMeServlet.java">AboutMeServlet.java</a></p>
<h3 id="image-protection">Image Protection</h3>
<p>The images that need to be protected are put into the <code>WEB-INF</code> folder. <code>WEB-INF</code> folder is a special folder which is protected by web application containers like Tomcat. Anything inside will not be accessable directly through a URL such as <code>https://www.example.com/WEB-INF/images/user_icon.png</code></p>
<p>To read the image file, pass the relative path of the image file to the Servlet API:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">// path: &#34;/WEB-INF/images/user_icon.png&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">InputStream</span><span class="w"> </span><span class="n">inputStream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getResourceAsStream</span><span class="p">(</span><span class="n">path</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>Finally read the Input Stream and convert the image into data URI schemes to completely hide the image URL:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">imageStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Base64</span><span class="p">.</span><span class="na">getEncoder</span><span class="p">().</span><span class="na">encodeToString</span><span class="p">(</span><span class="n">imageData</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>Source <a href="https://github.com/sky-haihai/4020A2-Secured-Web-IS/blob/fc29ffe396baaaaa47062d61970c054b70014d36/website/src/util/ImageHelper.java">ImageHelper.java</a></p>
<p>Then include the URI schemes in the HTML:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;&lt;img src=&#39;data:image/png;base64,&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">imageStr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;&#39; /&gt;&#34;</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>Source <a href="https://github.com/sky-haihai/4020A2-Secured-Web-IS/blob/fc29ffe396baaaaa47062d61970c054b70014d36/website/src/AboutMeServlet.java">AboutMeServlet.java</a></p>
<h3 id="preventing-unwanted-user-actions">Preventing Unwanted User Actions</h3>
<p>To prevent users from saving images on the web pages:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;contextmenu&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="kc">false</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></div><p>Source <a href="https://github.com/sky-haihai/4020A2-Secured-Web-IS/blob/fc29ffe396baaaaa47062d61970c054b70014d36/website/js/disableSavingImg.js">disableSavingImg.js</a></p>
<p>To prevent users from selecting text on the web pages:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">document</span><span class="p">.</span><span class="nx">onselectstart</span> <span class="o">!=</span> <span class="s2">&#34;undefined&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">document</span><span class="p">.</span><span class="nx">onselectstart</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="s2">&#34;return false&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">document</span><span class="p">.</span><span class="nx">onmousedown</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl">  <span class="nb">document</span><span class="p">.</span><span class="nx">onmouseup</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Source <a href="https://github.com/sky-haihai/4020A2-Secured-Web-IS/blob/fc29ffe396baaaaa47062d61970c054b70014d36/website/js/disableSelection.js">disableSelection.js</a></p>
<p>To prevent users from dragging images on the web pages:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;dragstart&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><p>Source <a href="https://github.com/sky-haihai/4020A2-Secured-Web-IS/blob/fc29ffe396baaaaa47062d61970c054b70014d36/website/js/disableDragging.js">disableDragging.js</a></p>
<p>To prevent users from printing the web pages:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="p">@</span><span class="k">media</span> <span class="nt">print</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">body</span> <span class="o">*</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">visibility</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Source <a href="https://github.com/sky-haihai/4020A2-Secured-Web-IS/blob/fc29ffe396baaaaa47062d61970c054b70014d36/website/css/preventPrint.css">preventPrint.css</a></p>
<h2 id="deployment">Deployment</h2>
<h3 id="step-0-prerequisites-done-by-the-server-administrator">Step 0: Prerequisites (Done by the server administrator)</h3>
<ol>
<li>Install <a href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html">JavaSE 8</a> on the server machine.</li>
<li>Install <a href="https://archive.apache.org/dist/tomcat/tomcat-7/v7.0.76/bin/">Apache Tomcat 7.0.76</a> on the server machine.</li>
</ol>
<h3 id="step-1-download-sshftp-client">Step 1: Download SSH/FTP client</h3>
<p>For windows users:</p>
<ul>
<li>SSH client: <a href="https://www.putty.org/">Putty</a></li>
<li>FTP client: <a href="https://winscp.net/eng/download.php">WinSCP</a></li>
</ul>
<h3 id="step-2-upload-the-website-folder-to-the-server">Step 2: Upload the website folder to the server</h3>
<ol>
<li>tag every servlet class with <code>@WebServlet(&quot;/path&quot;)</code> annotation.</li>
</ol>
<pre tabindex="0"><code>@WebServlet(&#34;/aboutme&#34;)
public class AboutMeServlet extends HttpServlet {
    ...
}
</code></pre><p>path is the URL path to access the servlet. For example, the above servlet can be accessed by the URL: <code>http://localhost:8080/itec4020grp9/aboutme</code></p>
<ol start="2">
<li>alternitively, add the following code to the <code>web.xml</code> file to map the servlet to a URL path.</li>
</ol>
<p>The <code>web.xml</code> file should be created in the <code>WEB-INF</code> folder like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;web-app</span> <span class="na">xmlns=</span><span class="s">&#34;http://java.sun.com/xml/ns/javaee&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">version=</span><span class="s">&#34;3.0&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;servlet&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;servlet-name&gt;</span>AboutMeServlet<span class="nt">&lt;/servlet-name&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;servlet-class&gt;</span>AboutMeServlet<span class="nt">&lt;/servlet-class&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/servlet&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    ...
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/web-app&gt;</span>
</span></span></code></pre></div><p>To include Servlets to the <code>web.xml</code> file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;servlet&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;servlet-name&gt;</span>MyServlet<span class="nt">&lt;/servlet-name&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;servlet-class&gt;</span>/path/to/myServlet<span class="nt">&lt;/servlet-class&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/servlet&gt;</span>
</span></span></code></pre></div><p>To include JSP files to the <code>web.xml</code> file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;servlet&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;servlet-name&gt;</span>MyJsp<span class="nt">&lt;/servlet-name&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;jsp-file&gt;</span>/path/to/myJsp<span class="nt">&lt;/jsp-file&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/servlet&gt;</span>
</span></span></code></pre></div><p><strong>Note</strong></p>
<ol>
<li>The path does not need to include the file extension.</li>
<li>The path is relative to the <code>WEB-INF/classes</code> folder.</li>
<li>make sure all Java Servlet classes are compiled into <code>WEB-INF/classes</code> folder.</li>
</ol>
<h3 id="step-3-deploy-the-website-on-the-tomcat-server">Step 3: Deploy the website on the Tomcat server</h3>
<ol>
<li>To deploy the website on the Tomcat server, simply copy the website folder to the <code>webapps</code> folder of the Tomcat server.</li>
</ol>
<h3 id="step-4-making-changes-to-the-website">Step 4: Making changes to the website</h3>
<ol>
<li>Upload the changes to the server.</li>
<li>Restart the Tomcat server. <strong>Not Practical</strong> if you are not the server administrator.</li>
<li>Alternatively, slightly changing the <code>web.xml</code> file back and forth will trigger a kind of reload event inside Tomcat. <strong>Not Elegant</strong> but Practical:kissing_face:</li>
</ol>
<h2 id="test-cases">Test Cases</h2>
<h3 id="case-1">Case 1</h3>
<p>A user cannot get into the secured Web information system after logout by clicking on the browser&rsquo;s back button or typing in the URL address directly.</p>
<h3 id="case-2">Case 2</h3>
<p>The user has to login using userid and password in order to get into the secured website after logout.</p>
<h3 id="case-3">Case 3</h3>
<p>All the URL addresses of the secured Web information system need to be protected.</p>
<h3 id="case-4">Case 4</h3>
<p>The image files of secured Web pages shouldn’t be allowed to save on the client’s local machine.</p>
<h3 id="case-5">Case 5</h3>
<p>After closing the browser, the user cannot get into the secured Web information system without login again.</p>
<h3 id="case-6">Case 6</h3>
<p>Users cannot copy and paste the text information on the secured Web pages.</p>
<h3 id="case-7">Case 7</h3>
<p>Some secured pages should not be able to be printed, for example, by using a browser’s print function.</p>
<h3 id="case-8">Case 8</h3>
<p>Information on the server side(e.g. Image URL) should be protected.</p>
<h2 id="future-improvements">Future Improvements</h2>
<ol>
<li>Use a database to store user information instead of hard-coding the user information in the Java Servlet code.</li>
<li>Use <code>&lt;canvas&gt;</code> tags on html to display the secured content pages instead of disabling user actions on the web pages. Because disabling user actions may have a negative impact on the overall user experience and the logic is handled on the client-side which is not secure.</li>
</ol>
<h2 id="conclusion">Conclusion</h2>
<p>In conclusion, I have successfully implemented a secured web information system. The system is secured by using HTTPS, Tomcat and Java Servlet. The system is protected from unauthorized user accesses and also protected from unwanted user actions such as saving images, selecting text, dragging images, and printing the web pages.</p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/java/">Java</a></li>
      <li><a href="http://localhost:1313/tags/servlet/">Servlet</a></li>
      <li><a href="http://localhost:1313/tags/jsp/">JSP</a></li>
      <li><a href="http://localhost:1313/tags/tomcat/">Tomcat</a></li>
      <li><a href="http://localhost:1313/tags/html/">HTML</a></li>
      <li><a href="http://localhost:1313/tags/css/">CSS</a></li>
      <li><a href="http://localhost:1313/tags/javascript/">JavaScript</a></li>
    </ul>

<div class="share-buttons">

    <a target="_blank" rel="noopener noreferrer" aria-label="share Secured Web Information System Prototype on linkedin"
        href="https://www.linkedin.com/in/heycharlola/">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
</div>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span> <del>Life 1%</del>
      
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>


<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
